{"version":3,"file":"/assets/js/navigation.js","mappings":"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","sources":["webpack://mix-dev/../sites/wp/web/wp-content/themes/anwas-scratch/_src/js/navigation.js"],"sourcesContent":["/* global anwas_scratch_screen_reader_text */\n/**\n * File navigation.js.\n *\n * Handles toggling the navigation menu for small screens and enables TAB key\n * navigation support for dropdown menus.\n */\n\nconst KEYMAP = {\n\tTAB: 9,\n\tESC: 27,\n};\n\nif ('loading' === document.readyState) {\n\t// The DOM has not yet been loaded.\n\tdocument.addEventListener('DOMContentLoaded', initNavigation);\n} else {\n\t// The DOM has already been loaded.\n\tinitNavigation();\n}\n\n// Initiate the menus when the DOM loads.\nfunction initNavigation() {\n\tinitNavToggleSubmenus();\n\n\tconst BODY_EL = document.querySelector('html > body');\n\n\tBODY_EL.addEventListener('keydown', (e) => {\n\t\tif (KEYMAP.ESC === e.keyCode) {\n\t\t\tconsole.log('ESC');\n\t\t\tactionCloseAllMenus();\n\t\t}\n\t}, false);\n\n\tBODY_EL.addEventListener('click', (e) => {\n\t\tconsole.log('BODY click');\n\t\tactionCloseAllMenus();\n\t}, false);\n}\n\n/**\n * Initiate the script to process all\n * navigation menus with submenu toggle enabled.\n */\nfunction initNavToggleSubmenus() {\n\tconst NAV_TOGGLE = document.querySelectorAll('.main-navigation');\n\n\t// No point if no navs.\n\tif (!NAV_TOGGLE.length) {\n\t\treturn;\n\t}\n\n\tfor (let i = 0; i < NAV_TOGGLE.length; i++) {\n\t\tinitMenuToggleButton(NAV_TOGGLE[i]);\n\t\tinitEachDropdown(NAV_TOGGLE[i]);\n\t}\n}\n\nfunction initMenuToggleButton(nav) {\n\t// Mobilaus meniu perjungimo mygtukas.\n\tconst MENU_TOOGLE = nav.querySelector('.menu-toggle');\n\n\t// Jei nėra meniu perjungimo mygtuko, nėra prasmės tęsti.\n\tif (!MENU_TOOGLE) {\n\t\treturn;\n\t}\n\n\tconst MENU_CONTAINER = nav.querySelector('.primary-menu-container');\n\n\t// Jei nėra meniu konteinerio, nėra prasmės tęsti.\n\tif (!MENU_CONTAINER) {\n\t\treturn;\n\t}\n\n\tMENU_TOOGLE.addEventListener('click', function (e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (MENU_CONTAINER.classList.contains('toggled')) {\n\t\t\tMENU_CONTAINER.classList.remove('toggled');\n\t\t\tMENU_TOOGLE.setAttribute('aria-label', anwas_scratch_screen_reader_text.expand_menu);\n\t\t\tMENU_TOOGLE.setAttribute('aria-expanded', 'false');\n\t\t} else {\n\t\t\tMENU_CONTAINER.classList.add('toggled');\n\t\t\tMENU_TOOGLE.setAttribute('aria-label', anwas_scratch_screen_reader_text.collapse_menu);\n\t\t\tMENU_TOOGLE.setAttribute('aria-expanded', 'true');\n\t\t}\n\n\t}, false);\n}\n\nfunction initEachDropdown(nav) {\n\tconst DROPDOWNS = nav.querySelectorAll('.menu-item-has-children', '.page_item_has_children'); // li elementas su menu-item-has-children arba .page_item_has_children CSS klase.\n\n\t// Jei nėra išskleidžiamų meniu, nėra prasmės tęsti.\n\tif (!DROPDOWNS.length) {\n\t\treturn;\n\t}\n\n\tfor (let i = 0; i < DROPDOWNS.length; i++) {\n\n\t\t// Elementas su .dropdown-toggle CSS klase, kuris išskleidžia submeniu (įprastai tai <a> elementas bet gali būti ir <button> ar pan.).\n\t\tconst DROPDOWN_TOGGLE = DROPDOWNS[i].querySelector('.dropdown-toggle');\n\n\t\tif (!DROPDOWN_TOGGLE) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tDROPDOWN_TOGGLE.addEventListener('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tconst DROPDOWN_TOGGLE_PARENT = DROPDOWN_TOGGLE.parentNode;\n\n\t\t\ttoggleSubMenu(DROPDOWN_TOGGLE_PARENT);\n\t\t}, false);\n\t}\n}\n\n\n\n/**\n * Toggle submenus open and closed, and tell screen readers what's going on.\n * @param {Object} parentMenuItem Parent menu element.\n * @param {boolean} forceToggle Force the menu toggle.\n * @return {void}\n */\nfunction toggleSubMenu(parentMenuItem, forceToggle) {\n\tconst TOGGLE_BUTTON = parentMenuItem.querySelector('.dropdown-toggle');\n\n\tif (!TOGGLE_BUTTON) {\n\t\treturn;\n\t}\n\n\tconst SUB_MENU = parentMenuItem.querySelector('ul');\n\tlet parentMenuItemToggled = parentMenuItem.classList.contains('menu-item--toggled-on');\n\n\t// Will be true if we want to force the toggle on, false if force toggle close.\n\tif (undefined !== forceToggle && 'boolean' === (\n\t\ttypeof forceToggle\n\t)) {\n\t\tparentMenuItemToggled = !forceToggle;\n\t}\n\n\t// Toggle aria-expanded status.\n\tTOGGLE_BUTTON.setAttribute('aria-expanded', (\n\t\t!parentMenuItemToggled\n\t).toString());\n\n\t/*\n\t * Steps to handle during toggle:\n\t * - Let the parent menu item know we're toggled on/off.\n\t * - Toggle the ARIA label to let screen readers know will expand or collapse.\n\t */\n\tif (parentMenuItemToggled) {\n\t\t// Toggle \"off\" the submenu.\n\t\tparentMenuItem.classList.remove('menu-item--toggled-on');\n\t\tSUB_MENU.classList.remove('toggle-show');\n\t\tTOGGLE_BUTTON.setAttribute('aria-label', anwas_scratch_screen_reader_text.expand);\n\n\t\t// Make sure all children are closed.\n\t\tconst SUB_MENU_ITEMS_TOGGLED = parentMenuItem.querySelectorAll('.menu-item--toggled-on');\n\t\tfor (let i = 0; i < SUB_MENU_ITEMS_TOGGLED.length; i++) {\n\t\t\ttoggleSubMenu(SUB_MENU_ITEMS_TOGGLED[i], false);\n\t\t}\n\t} else {\n\t\t// Make sure siblings are closed.\n\t\tconst PARENT_MENU_ITEMS_TOGGLED = parentMenuItem.parentNode.querySelectorAll('li.menu-item--toggled-on');\n\t\tfor (let i = 0; i < PARENT_MENU_ITEMS_TOGGLED.length; i++) {\n\t\t\ttoggleSubMenu(PARENT_MENU_ITEMS_TOGGLED[i], false);\n\t\t}\n\n\t\t// Toggle \"on\" the submenu.\n\t\tparentMenuItem.classList.add('menu-item--toggled-on');\n\t\tSUB_MENU.classList.add('toggle-show');\n\t\tTOGGLE_BUTTON.setAttribute('aria-label', anwas_scratch_screen_reader_text.collapse);\n\t}\n}\n\n\nfunction actionCloseAllMenus() {\n\tconst NAV = document.querySelector('nav.main-navigation');\n\n\t// No point if no nav menu.\n\tif (!NAV) {\n\t\treturn;\n\t}\n\n\tconst MENU_CONTAINER = NAV.querySelector('.primary-menu-container');\n\n\t// Jei nėra meniu konteinerio, nėra prasmės tęsti.\n\tif (!MENU_CONTAINER) {\n\t\treturn;\n\t}\n\n\t// Mobilaus meniu perjungimo mygtukas.\n\tconst MENU_TOOGLE = NAV.querySelector('.menu-toggle');\n\n\t// Jei nėra meniu perjungimo mygtuko, nėra prasmės tęsti.\n\tif (!MENU_TOOGLE) {\n\t\treturn;\n\t}\n\n\tif (MENU_CONTAINER.classList.contains('toggled')) {\n\t\tMENU_CONTAINER.classList.remove('toggled');\n\t\tMENU_TOOGLE.setAttribute('aria-label', anwas_scratch_screen_reader_text.expand_menu);\n\t\tMENU_TOOGLE.setAttribute('aria-expanded', 'false');\n\t}\n\n\tMENU_TOOGLE.focus();\n\n\tconst PARENT_MENU_ITEMS_TOGGLED = NAV.querySelectorAll('.menu li.menu-item--toggled-on');\n\n\tif (!PARENT_MENU_ITEMS_TOGGLED.length) {\n\t\treturn;\n\t}\n\n\tfor (let i = 0; i < PARENT_MENU_ITEMS_TOGGLED.length; i++) {\n\t\ttoggleSubMenu(PARENT_MENU_ITEMS_TOGGLED[i], false);\n\t}\n}\n"],"names":["KEYMAP","TAB","ESC","document","readyState","addEventListener","initNavigation","initNavToggleSubmenus","BODY_EL","querySelector","e","keyCode","console","log","actionCloseAllMenus","NAV_TOGGLE","querySelectorAll","length","i","initMenuToggleButton","initEachDropdown","nav","MENU_TOOGLE","MENU_CONTAINER","preventDefault","stopPropagation","classList","contains","remove","setAttribute","anwas_scratch_screen_reader_text","expand_menu","add","collapse_menu","DROPDOWNS","DROPDOWN_TOGGLE","DROPDOWN_TOGGLE_PARENT","parentNode","toggleSubMenu","parentMenuItem","forceToggle","TOGGLE_BUTTON","SUB_MENU","parentMenuItemToggled","undefined","toString","expand","SUB_MENU_ITEMS_TOGGLED","PARENT_MENU_ITEMS_TOGGLED","collapse","NAV","focus"],"sourceRoot":""}